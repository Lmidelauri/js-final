(()=>{"use strict";const e=document.querySelectorAll("[data-number]"),t=document.querySelectorAll("[data-operation]"),r=document.querySelector("[data-equals]"),i=document.querySelector("[data-delete]"),s=document.querySelector("[data-all-clear]"),n=document.querySelector("[data-previous]"),a=document.querySelector("[data-current]"),c=new class{constructor(e,t){this.previousTextElement=e,this.currentTextElement=t,this.clear()}clear(){this.current="",this.previous="",this.operation=void 0}appendNumber(e){"."===e&&this.current.includes(".")||(this.current=this.current.toString()+e.toString())}chooseOperation(e){""!==this.current&&(""!==this.previous&&this.compute(),this.operation=e,this.previous=this.current,this.current="")}compute(){let e;const t=parseFloat(this.previous),r=parseFloat(this.current);if(!isNaN(t)&&!isNaN(r)){switch(this.operation){case"+":e=t+r;break;case"-":e=t-r;break;case"*":e=t*r;break;case"รท":e=t/r;break;default:return}this.current=e,this.operation=void 0,this.previous=""}}delete(){this.current=this.current.toString().slice(0,-1)}updateDisplay(){this.currentTextElement.innerText=this.getDisplayNumber(this.current),null!=this.operation?this.previousTextElement.innerText=`${this.getDisplayNumber(this.previous)} ${this.operation}`:this.previousTextElement.innerText=""}getDisplayNumber(e){const t=e.toString(),r=parseFloat(t.split(".")[0]),i=t.split(".")[1];let s;return s=isNaN(r)?"":r.toLocaleString("en",{maximumFractionDig:0}),null!=i?`${s}.${i}`:s}}(n,a);e.forEach((e=>{e.addEventListener("click",(()=>{c.appendNumber(e.innerText),c.updateDisplay()}))})),t.forEach((e=>{e.addEventListener("click",(()=>{c.chooseOperation(e.innerText),c.updateDisplay()}))})),r.addEventListener("click",(e=>{c.compute(),c.updateDisplay()})),s.addEventListener("click",(e=>{c.clear(),c.updateDisplay()})),i.addEventListener("click",(e=>{c.delete(),c.updateDisplay()}))})();